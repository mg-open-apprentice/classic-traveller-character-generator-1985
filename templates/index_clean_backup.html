<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Classic Traveller Character Generator</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="terminal-container">
        <!-- Header -->
        <div class="header">
            Classic Traveller Character Generator
        </div>
        
        <!-- Left Sidebar -->
        <div class="panel sidebar">
            <div class="sidebar-content">
                <!-- Section 1: Create Character & Enlist -->
                <div class="section">
                    <button class="btn" id="create-character-btn">Create Character</button>
                    <button class="btn btn-success" id="enlist-btn">Enlist</button>
                </div>
                
                <!-- Section 2: Term Actions -->
                <div class="section term-section">
                    <div class="section-title" id="term-title">TERM 1</div>
                    <button class="btn" id="survival-btn">Survival</button>
                    <button class="btn" id="commission-btn">Commission</button>
                    <button class="btn" id="promotion-btn">Promotion</button>
                    <button class="btn" id="skills-btn">Skills</button>
                    <button class="btn" id="ageing-btn">Ageing</button>
                    <button class="btn" id="reenlist-btn">Reenlist</button>
                </div>
                
                <!-- Section 3: Leave & Muster Out -->
                <div class="section leave-section">
                    <button class="btn" id="leave-btn">Leave</button>
                    <button class="btn" id="muster-out-btn">Muster Out</button>
                </div>
            </div>
        </div>
        
        <!-- Right Top -->
        <div class="panel right-top">
            <div class="character-record" id="character-record">
                <div class="character-header">
                    <div class="character-name-line">
                        <span class="title-rank-name" id="char-name">Title, Rank, Name</span>
                        <span id="char-service" style="margin-left: 10px;">Service</span>
                        <span class="upp-profile" style="font-family:'Courier New',monospace;">
                            <span id="upp-label">UPP</span>
                            <span id="upp-string">______</span>
                            <span class="upp-age" id="char-age">Age</span>
                            <span class="upp-terms" id="char-terms">Terms</span>
                        </span>
                        <span id="char-rank-number" style="margin-left: 12px;"></span>
                        <span id="top-skill-eligibility" style="margin-left: 12px; color: #0ff; font-size: 16px; font-weight: bold;"></span>
                        <span id="char-credits" style="margin-left: 12px; color: #ffff00; font-size: 16px; font-weight: bold;">CR 0</span>
                    </div>
                </div>
                
                <!-- Row 2: Skills (horizontal list) -->
                <div class="character-section skills-section">
                    <div class="section-label">Skills</div>
                    <div class="skills-horizontal" id="skills-display">None</div>
                </div>
                
                <!-- Row 3: Benefits -->
                <div class="character-section benefits-section">
                    <div class="section-label">Benefits</div>
                    <div class="section-content" id="benefits-display">None</div>
                </div>
            </div>
        </div>
        
        <!-- Right Middle -->
        <div class="panel right-middle">
            <!-- Event Record Panel (default) -->
            <div class="event-record" id="event-panel">
                <div class="event-grid">
                    <!-- Top Row -->
                    <div class="event-item">
                        <div class="event-header">Test</div>
                        <div class="event-value" id="event-test">-</div>
                    </div>
                    
                    <div class="event-item">
                        <div class="event-header">Target</div>
                        <div class="event-value" id="event-target">-</div>
                    </div>
                    
                    <div class="event-item">
                        <div class="event-header">Characteristics</div>
                        <div class="event-value" id="event-characteristics">-</div>
                    </div>
                    
                    <!-- Bottom Row -->
                    <div class="event-item">
                        <div class="event-header">Probability</div>
                        <div class="event-value" id="event-probability">-</div>
                    </div>
                    
                    <div class="event-item">
                        <div class="event-header">Roll</div>
                        <div class="event-value" id="event-roll">-</div>
                    </div>
                    
                    <div class="event-item">
                        <div class="event-header">Outcome</div>
                        <div class="event-value" id="event-outcome">-</div>
                    </div>
                </div>
            </div>
            
            <!-- Characteristics Panel (shown when ready for characteristics) -->
            <div class="characteristics-panel" id="characteristics-panel" style="display: none;">
                <div class="characteristics-header">
                    <h3>Generate Characteristics</h3>
                    <p>Click each characteristic to reveal its value</p>
                </div>
                <div class="characteristics-grid">
                    <button class="characteristic-btn" id="strength-btn">
                        <div class="char-name">Strength</div>
                        <div class="char-value" id="strength-value">?</div>
                    </button>
                    <button class="characteristic-btn" id="dexterity-btn">
                        <div class="char-name">Dexterity</div>
                        <div class="char-value" id="dexterity-value">?</div>
                    </button>
                    <button class="characteristic-btn" id="endurance-btn">
                        <div class="char-name">Endurance</div>
                        <div class="char-value" id="endurance-value">?</div>
                    </button>
                    <button class="characteristic-btn" id="intelligence-btn">
                        <div class="char-name">Intelligence</div>
                        <div class="char-value" id="intelligence-value">?</div>
                    </button>
                    <button class="characteristic-btn" id="education-btn">
                        <div class="char-name">Education</div>
                        <div class="char-value" id="education-value">?</div>
                    </button>
                    <button class="characteristic-btn" id="social-btn">
                        <div class="char-name">Social</div>
                        <div class="char-value" id="social-value">?</div>
                    </button>
                </div>
                
                <!-- Service Metrics Panel (shown after characteristics are complete) -->
                <div class="service-metrics-panel" id="service-metrics-panel" style="display: none;">
                    <div class="metrics-header">
                        <h3>Service Viability</h3>
                        <p>Your character's chances in each service</p>
                    </div>
                    <div class="metrics-grid" id="enlistment-metrics-grid">
                        <!-- Services will be dynamically sorted and colored by enlistment probability -->
                    </div>
                </div>
            </div>
            
            <!-- Actions Panel (shown during term activities) -->
            <div class="actions-panel" id="actions-panel" style="display: none;">
                <div class="actions-header">
                    <h3>Term Actions</h3>
                    <p>Select an action to attempt this term</p>
                </div>
                <div class="actions-grid">
                    <button class="action-btn" id="survival-action-btn">
                        <div class="action-name">Survival</div>
                        <div class="action-probability" id="survival-action-prob">-</div>
                    </button>
                    <button class="action-btn" id="commission-action-btn" style="display: none;">
                        <div class="action-name">Commission</div>
                        <div class="action-probability" id="commission-action-prob">-</div>
                    </button>
                    <button class="action-btn" id="promotion-action-btn" style="display: none;">
                        <div class="action-name">Promotion</div>
                        <div class="action-probability" id="promotion-action-prob">-</div>
                    </button>
                    <!-- Empty slots for 3x2 grid consistency -->
                    <div class="action-placeholder"></div>
                    <div class="action-placeholder"></div>
                    <div class="action-placeholder"></div>
                </div>
            </div>
            
            <!-- Skills Panel (shown when ready for skills) -->
            <div class="skills-panel" id="skills-panel" style="display: none;">
                <div class="skills-header">
                    <h3>Skill Development</h3>
                    <p>Choose a skill table to develop your character</p>
                </div>
                <div class="skills-grid" id="skills-grid">
                    <button class="skill-btn" id="personal-skill-btn" style="display: none;">
                        <div class="skill-name">Personal</div>
                        <div class="skill-description">Basic skills</div>
                    </button>
                    <button class="skill-btn" id="service-skill-btn" style="display: none;">
                        <div class="skill-name">Service</div>
                        <div class="skill-description">Military skills</div>
                    </button>
                    <button class="skill-btn" id="advanced-skill-btn" style="display: none;">
                        <div class="skill-name">Advanced</div>
                        <div class="skill-description">Specialized skills</div>
                    </button>
                    <button class="skill-btn" id="education-skill-btn" style="display: none;">
                        <div class="skill-name">Education</div>
                        <div class="skill-description">Academic skills</div>
                    </button>
                    <!-- Placeholders for grid consistency -->
                    <div class="skill-placeholder"></div>
                    <div class="skill-placeholder"></div>
                </div>
            </div>
            
            <!-- Enlistment Panel (shown when ready for enlistment) -->
            <div class="enlistment-panel" id="enlistment-panel" style="display: none;">
                <div class="enlistment-header">
                    <h3>Choose Your Service</h3>
                    <p>Select a military service to attempt enlistment</p>
                </div>
                <div class="enlistment-grid">
                    <button class="enlistment-btn" id="navy-btn">
                        <div class="service-name">Navy</div>
                        <div class="service-probability" id="navy-prob">-</div>
                    </button>
                    <button class="enlistment-btn" id="marines-btn">
                        <div class="service-name">Marines</div>
                        <div class="service-probability" id="marines-prob">-</div>
                    </button>
                    <button class="enlistment-btn" id="army-btn">
                        <div class="service-name">Army</div>
                        <div class="service-probability" id="army-prob">-</div>
                    </button>
                    <button class="enlistment-btn" id="scouts-btn">
                        <div class="service-name">Scouts</div>
                        <div class="service-probability" id="scouts-prob">-</div>
                    </button>
                    <button class="enlistment-btn" id="merchants-btn">
                        <div class="service-name">Merchants</div>
                        <div class="service-probability" id="merchants-prob">-</div>
                    </button>
                    <button class="enlistment-btn" id="others-btn">
                        <div class="service-name">Others</div>
                        <div class="service-probability" id="others-prob">-</div>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Right Bottom -->
        <div class="panel right-bottom">
            <div class="term-record">
                <!-- Characteristics Display (shown during character generation) -->
                <div class="characteristics-display" id="characteristics-display" style="display: none;">
                    <div class="term-header">
                        <div class="term-title">CHARACTER STATISTICS</div>
                    </div>
                    
                    <div class="characteristics-grid-bottom">
                        <div class="char-stat">
                            <span class="char-stat-name">STR</span>
                            <span class="char-stat-value" id="bottom-strength-value">-</span>
                        </div>
                        <div class="char-stat">
                            <span class="char-stat-name">DEX</span>
                            <span class="char-stat-value" id="bottom-dexterity-value">-</span>
                        </div>
                        <div class="char-stat">
                            <span class="char-stat-name">END</span>
                            <span class="char-stat-value" id="bottom-endurance-value">-</span>
                        </div>
                        <div class="char-stat">
                            <span class="char-stat-name">INT</span>
                            <span class="char-stat-value" id="bottom-intelligence-value">-</span>
                        </div>
                        <div class="char-stat">
                            <span class="char-stat-name">EDU</span>
                            <span class="char-stat-value" id="bottom-education-value">-</span>
                        </div>
                        <div class="char-stat">
                            <span class="char-stat-name">SOC</span>
                            <span class="char-stat-value" id="bottom-social-value">-</span>
                        </div>
                    </div>
                </div>
                
                <!-- Current Term Layout -->
                <div class="term-display">
                    <div class="term-header">
                        <div class="term-title">PRE-ENLISTMENT</div>
                    </div>
                    
                    <div class="term-section">
                        <div class="term-item">
                            <span class="term-action">Survival</span>
                            <span class="term-outcome">&lt;outcome&gt;</span>
                        </div>
                        <div class="term-item commission-item">
                            <span class="term-action">Commission</span>
                            <span class="term-outcome">&lt;outcome&gt;</span>
                        </div>
                        <div class="term-item">
                            <span class="term-action">Promotion</span>
                            <span class="term-outcome">&lt;outcome&gt;</span>
                        </div>
                        <div class="term-item skills-item">
                            <span class="term-action">Skills</span>
                            <span class="term-outcome">&lt;outcomes&gt;</span>
                        </div>
                        <div class="term-item ageing-item">
                            <span class="term-action">Ageing</span>
                            <span class="term-outcome">&lt;outcomes&gt;</span>
                        </div>
                        <div class="term-item">
                            <span class="term-action">Reenlistment</span>
                            <span class="term-outcome">&lt;outcome&gt;</span>
                        </div>
                    </div>
                </div>
                
                <!-- Alternative: Mustering Out Layout -->
                <div class="muster-display" style="display: none;">
                    <div class="muster-header">
                        <div class="muster-title">Mustering Out</div>
                    </div>
                    
                    <div class="muster-section">
                        <div class="muster-item">Cash</div>
                        <div class="muster-item">Pension</div>
                        <div class="muster-item">Acquisitions</div>
                        <div class="muster-item">Benefits</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="/static/script.js"></script>
</body>
</html>